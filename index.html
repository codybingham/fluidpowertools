<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Fluid Power Tools</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="container" role="main" aria-label="Fluid power tools">
      <h3>Fluid Power Tools</h3>
      <p id="ptLink">
        <a href="progress-tracker.html">Progress Tracker</a>
      </p>
      <div class="tabs" role="tablist" aria-label="Tool categories">
        <div
          class="tab active"
          role="tab"
          tabindex="0"
          aria-selected="true"
          aria-controls="panel-calculators"
          id="tab-calculators"
        >
          Calculators
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-bom-comparator"
          id="tab-bom-comparator"
        >
          BOM Comparator
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-part-lookup"
          id="tab-part-lookup"
        >
          Part Lookup (Protected)
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-part-lookup-fuzzy-bom"
          id="tab-part-lookup-fuzzy-bom"
        >
          Fuzzy Part Lookup
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-reference"
          id="tab-reference"
        >
          Reference
        </div>
      </div>

      <!-- Calculators -->
      <section
        id="panel-calculators"
        class="tab-panel active"
        role="tabpanel"
        aria-labelledby="tab-calculators"
        tabindex="0"
      >
        <div class="sub-tabs" role="tablist" aria-label="Calculators">
          <div
            class="sub-tab active"
            role="tab"
            tabindex="0"
            aria-selected="true"
            aria-controls="sub-panel-pressure-drop"
            id="sub-tab-pressure-drop"
          >
            Pressure Drop
          </div>
          <div
            class="sub-tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            aria-controls="sub-panel-unit-conversions"
            id="sub-tab-unit-conversions"
          >
            Unit Conversions
          </div>
          <div
            class="sub-tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            aria-controls="sub-panel-cylinder-force"
            id="sub-tab-cylinder-force"
          >
            Cylinder Force
          </div>
          <div
            class="sub-tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            aria-controls="sub-panel-pump-power"
            id="sub-tab-pump-power"
          >
            Pump Power
          </div>
        </div>

        <!-- Pressure Drop -->
        <section
          id="sub-panel-pressure-drop"
          class="sub-panel active"
          role="tabpanel"
          aria-labelledby="sub-tab-pressure-drop"
          tabindex="0"
        >
          <label class="calc-label" for="pdFlow">Flow Rate (GPM):</label>
          <input type="number" id="pdFlow" min="0" step="any" />

          <label class="calc-label" for="pdDiameter"
            >Pipe/Hose Diameter (inches):</label
          >
          <input type="number" id="pdDiameter" min="0" step="any" />

          <label class="calc-label" for="pdLength">Length (feet):</label>
          <input type="number" id="pdLength" min="0" step="any" />

          <label class="calc-label" for="pdViscosity"
            >Dynamic Viscosity (cP):</label
          >
          <input
            type="number"
            id="pdViscosity"
            min="0"
            step="any"
            value="40"
          />

          <div class="button-row">
            <button id="calcPressureDrop">Calculate Pressure Drop (psi)</button>
            <button id="clearPressureDrop">Clear</button>
          </div>
          <div id="pressureDropResult"></div>
        </section>

        <!-- Unit Conversions -->
        <section
          id="sub-panel-unit-conversions"
          class="sub-panel"
          role="tabpanel"
          aria-labelledby="sub-tab-unit-conversions"
          tabindex="0"
        >
          <label class="calc-label" for="ucCategory">Conversion Type:</label>
          <select id="ucCategory">
            <option value="flow">Flow</option>
            <option value="pressure">Pressure</option>
            <option value="force">Force</option>
            <option value="power">Power</option>
            <option value="length">Length</option>
          </select>

          <label class="calc-label" for="ucValue">Value:</label>
          <input type="number" id="ucValue" min="0" step="any" />

          <label class="calc-label" for="ucFromUnit">From Unit:</label>
          <select id="ucFromUnit"></select>

          <label class="calc-label" for="ucToUnit">To Unit:</label>
          <select id="ucToUnit"></select>

          <div class="button-row">
            <button id="convertUnitBtn">Convert</button>
            <button id="clearUnitConvert">Clear</button>
          </div>
          <div id="unitConvertResult"></div>
        </section>

        <!-- Cylinder Force -->
        <section
          id="sub-panel-cylinder-force"
          class="sub-panel"
          role="tabpanel"
          aria-labelledby="sub-tab-cylinder-force"
          tabindex="0"
        >
          <label class="calc-label" for="cylBoreDiameter"
            >Cylinder Bore Diameter (inches):</label
          >
          <input type="number" id="cylBoreDiameter" min="0" step="any" />

          <label class="calc-label" for="cylPressure">Pressure (psi):</label>
          <input type="number" id="cylPressure" min="0" step="any" />

          <div class="button-row">
            <button id="calcCylinderForceBtn">Calculate Force (lbf)</button>
            <button id="clearCylinderForce">Clear</button>
          </div>
          <div id="cylinderForceResult"></div>
        </section>

        <!-- Pump Power -->
        <section
          id="sub-panel-pump-power"
          class="sub-panel"
          role="tabpanel"
          aria-labelledby="sub-tab-pump-power"
          tabindex="0"
        >
          <label class="calc-label" for="pumpFlow">Flow Rate (GPM):</label>
          <input type="number" id="pumpFlow" min="0" step="any" />

          <label class="calc-label" for="pumpPressure">Pressure (psi):</label>
          <input type="number" id="pumpPressure" min="0" step="any" />

          <label class="calc-label" for="pumpEfficiency">Efficiency (%):</label>
          <input
            type="number"
            id="pumpEfficiency"
            min="1"
            max="100"
            step="any"
            value="85"
          />

          <div class="button-row">
            <button id="calcPumpPowerBtn">Calculate Power (HP)</button>
            <button id="clearPumpPower">Clear</button>
          </div>
          <div id="pumpPowerResult"></div>
        </section>
      </section>

      <!-- BOM Comparator -->
      <section
        id="panel-bom-comparator"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-bom-comparator"
        tabindex="0"
      >
        <label for="oldBOM">Old BOM:</label>
        <textarea id="oldBOM" placeholder="PartNumber  Qty"></textarea>

        <label for="newBOM" style="margin-top: 25px">New BOM:</label>
        <textarea id="newBOM" placeholder="PartNumber  Qty"></textarea>

        <div
          class="button-group"
          style="margin-top: 25px; display: flex; gap: 15px"
        >
          <button id="compareBOM">Compare</button>
          <button id="clearBOM">Clear</button>
          <div id="loadingSpinner" title="Processing..."></div>
        </div>

        <!-- Quantity scaling toggle and input -->
        <div
          id="scalerContainer"
          style="
            display: none;
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            color: #34495e;
          "
        >
          <label for="qtyScaler">
            <input type="checkbox" id="enableScaler" />
            Enable Quantity Scaling
          </label>
          <input
            type="number"
            id="qtyScaler"
            value="1"
            step="1"
            min="0"
            style="
              display: none;
              margin-left: 10px;
              width: 80px;
              padding: 6px 8px;
              border: 1.8px solid #d1d9e6;
              border-radius: 6px;
              font-size: 1rem;
            "
          />
        </div>

        <!-- Filter dropdown -->
        <div
          id="filterContainer"
          style="
            display: none;
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            color: #34495e;
          "
        >
          <label for="statusFilter">Filter by Status:</label>
          <select
            id="statusFilter"
            aria-label="Filter comparison results by status"
            style="margin-left: 10px; padding: 5px 8px; font-size: 1rem"
          >
            <option value="all">All</option>
            <option value="Added">Added</option>
            <option value="Removed">Removed</option>
            <option value="Qty Change">Qty Change</option>
            <option value="Changed">Changed</option>
            <option value="Unchanged">Unchanged</option>
          </select>
        </div>

        <div
          id="bomResults"
          aria-live="polite"
          aria-atomic="true"
          style="margin-top: 35px"
        ></div>
      </section>
      <!-- Part Lookup -->
      <section
        id="panel-part-lookup"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-part-lookup"
        tabindex="0"
      >
        <label class="calc-label" for="plPart">Part Number:</label>
        <input type="text" id="plPart" autocomplete="off" />

        <label class="calc-label" for="plDesc">Description:</label>
        <input type="text" id="plDesc" autocomplete="off" />

        <div class="button-row">
          <button id="lookupPart">Search</button>
          <button id="clearPartLookup">Clear</button>
        </div>
        <div id="partLookupResults"></div>
      </section>
      <!-- Fuzzy Part Lookup -->
      <section
        id="panel-part-lookup-fuzzy-bom"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-part-lookup-fuzzy-bom"
        tabindex="0"
      >
        <div class="topbar" style="display: none;">
          <button id="fuzzyBomClear">Clear BOM</button>
          <button id="fuzzySendOld">Send to Old BOM</button>
          <button id="fuzzySendNew">Send to New BOM</button>
        </div>
        <div id="fuzzyBomList" class="bom" style="display: none;"></div>
        <div class="searchbar">
          <input
            id="fuzzyBomQuery"
            placeholder="Search part number, dash size, thread type, or description…"
            autocomplete="off"
          />
          <select id="fuzzyBomFilter">
            <option value="">All Parts</option>
            <option value="13">13 - Sub Assemblies</option>
            <option value="60">60 - Hydraulic Parts</option>
            <option value="30">30 - Labels/Stickers</option>
            <option value="73">73 - Pipe</option>
            <option value="HA">HA - Hydraulic Assemblies</option>
            <option value="HK">HK - Hose Kits</option>
          </select>
        </div>
        <div id="fuzzyBomStats" class="meta"></div>
        <div id="fuzzyBomResults" class="results"></div>
      </section>
      <!-- Reference -->
      <section
        id="panel-reference"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-reference"
        tabindex="0"
      >
        <h4>Reference Guides</h4>
        <div id="guidesContainer" class="guides-panel" aria-live="polite">
          <p class="guide-loading">Loading guides…</p>
        </div>
      </section>
    </div>

    <script src="script.js"></script>
  </body>
</html>
