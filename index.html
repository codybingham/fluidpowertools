<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Fluid Power Tools</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="container" role="main" aria-label="Fluid power tools">
      <h3>Fluid Power Tools</h3>

      <div class="tabs" role="tablist" aria-label="Tool categories">
        <div
          class="tab active"
          role="tab"
          tabindex="0"
          aria-selected="true"
          aria-controls="panel-pressure-drop"
          id="tab-pressure-drop"
        >
          Pressure Drop
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-unit-conversions"
          id="tab-unit-conversions"
        >
          Unit Conversions
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-cylinder-force"
          id="tab-cylinder-force"
        >
          Cylinder Force
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-pump-power"
          id="tab-pump-power"
        >
          Pump Power
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-bom-comparator"
          id="tab-bom-comparator"
        >
          BOM Comparator
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-part-lookup"
          id="tab-part-lookup"
        >
          Part Lookup (Protected)
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-part-lookup-fuzzy"
          id="tab-part-lookup-fuzzy"
        >
          Part Lookup (Fuzzy)
        </div>
        <div
          class="tab"
          role="tab"
          tabindex="-1"
          aria-selected="false"
          aria-controls="panel-reference"
          id="tab-reference"
        >
          Reference
        </div>
      </div>

      <!-- Pressure Drop -->
      <section
        id="panel-pressure-drop"
        class="tab-panel active"
        role="tabpanel"
        aria-labelledby="tab-pressure-drop"
        tabindex="0"
      >
        <label class="calc-label" for="pdFlow">Flow Rate (GPM):</label>
        <input type="number" id="pdFlow" min="0" step="any" />

        <label class="calc-label" for="pdDiameter"
          >Pipe/Hose Diameter (inches):</label
        >
        <input type="number" id="pdDiameter" min="0" step="any" />

        <label class="calc-label" for="pdLength">Length (feet):</label>
        <input type="number" id="pdLength" min="0" step="any" />

        <label class="calc-label" for="pdViscosity"
          >Dynamic Viscosity (cP):</label
        >
        <input type="number" id="pdViscosity" min="0" step="any" value="40" />

        <div class="button-row">
          <button id="calcPressureDrop">Calculate Pressure Drop (psi)</button>
          <button id="clearPressureDrop">Clear</button>
        </div>
        <div id="pressureDropResult"></div>
      </section>

      <!-- Unit Conversions -->
      <section
        id="panel-unit-conversions"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-unit-conversions"
        tabindex="0"
      >
        <label class="calc-label" for="ucCategory">Conversion Type:</label>
        <select id="ucCategory">
          <option value="flow">Flow</option>
          <option value="pressure">Pressure</option>
          <option value="force">Force</option>
          <option value="power">Power</option>
          <option value="length">Length</option>
        </select>

        <label class="calc-label" for="ucValue">Value:</label>
        <input type="number" id="ucValue" min="0" step="any" />

        <label class="calc-label" for="ucFromUnit">From Unit:</label>
        <select id="ucFromUnit"></select>

        <label class="calc-label" for="ucToUnit">To Unit:</label>
        <select id="ucToUnit"></select>

        <div class="button-row">
          <button id="convertUnitBtn">Convert</button>
          <button id="clearUnitConvert">Clear</button>
        </div>
        <div id="unitConvertResult"></div>
      </section>

      <!-- Cylinder Force -->
      <section
        id="panel-cylinder-force"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-cylinder-force"
        tabindex="0"
      >
        <label class="calc-label" for="cylBoreDiameter"
          >Cylinder Bore Diameter (inches):</label
        >
        <input type="number" id="cylBoreDiameter" min="0" step="any" />

        <label class="calc-label" for="cylPressure">Pressure (psi):</label>
        <input type="number" id="cylPressure" min="0" step="any" />

        <div class="button-row">
          <button id="calcCylinderForceBtn">Calculate Force (lbf)</button>
          <button id="clearCylinderForce">Clear</button>
        </div>
        <div id="cylinderForceResult"></div>
      </section>

      <!-- Pump Power -->
      <section
        id="panel-pump-power"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-pump-power"
        tabindex="0"
      >
        <label class="calc-label" for="pumpFlow">Flow Rate (GPM):</label>
        <input type="number" id="pumpFlow" min="0" step="any" />

        <label class="calc-label" for="pumpPressure">Pressure (psi):</label>
        <input type="number" id="pumpPressure" min="0" step="any" />

        <label class="calc-label" for="pumpEfficiency">Efficiency (%):</label>
        <input
          type="number"
          id="pumpEfficiency"
          min="1"
          max="100"
          step="any"
          value="85"
        />

        <div class="button-row">
          <button id="calcPumpPowerBtn">Calculate Power (HP)</button>
          <button id="clearPumpPower">Clear</button>
        </div>
        <div id="pumpPowerResult"></div>
      </section>

      <!-- BOM Comparator -->
      <section
        id="panel-bom-comparator"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-bom-comparator"
        tabindex="0"
      >
        <label for="oldBOM">Old BOM:</label>
        <textarea id="oldBOM" placeholder="PartNumber  Qty"></textarea>

        <label for="newBOM" style="margin-top: 25px">New BOM:</label>
        <textarea id="newBOM" placeholder="PartNumber  Qty"></textarea>

        <div
          class="button-group"
          style="margin-top: 25px; display: flex; gap: 15px"
        >
          <button id="compareBOM">Compare</button>
          <button id="clearBOM">Clear</button>
          <div id="loadingSpinner" title="Processing..."></div>
        </div>

        <!-- Quantity scaling toggle and input -->
        <div
          id="scalerContainer"
          style="
            display: none;
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            color: #34495e;
          "
        >
          <label for="qtyScaler">
            <input type="checkbox" id="enableScaler" />
            Enable Quantity Scaling
          </label>
          <input
            type="number"
            id="qtyScaler"
            value="1"
            step="1"
            min="0"
            style="
              display: none;
              margin-left: 10px;
              width: 80px;
              padding: 6px 8px;
              border: 1.8px solid #d1d9e6;
              border-radius: 6px;
              font-size: 1rem;
            "
          />
        </div>

        <!-- Filter dropdown -->
        <div
          id="filterContainer"
          style="
            display: none;
            margin-top: 15px;
            font-weight: 600;
            font-size: 1rem;
            color: #34495e;
          "
        >
          <label for="statusFilter">Filter by Status:</label>
          <select
            id="statusFilter"
            aria-label="Filter comparison results by status"
            style="margin-left: 10px; padding: 5px 8px; font-size: 1rem"
          >
            <option value="all">All</option>
            <option value="Added">Added</option>
            <option value="Removed">Removed</option>
            <option value="Qty Change">Qty Change</option>
            <option value="Changed">Changed</option>
            <option value="Unchanged">Unchanged</option>
          </select>
        </div>

        <div
          id="bomResults"
          aria-live="polite"
          aria-atomic="true"
          style="margin-top: 35px"
        ></div>
      </section>
      <!-- Part Lookup -->
      <section
        id="panel-part-lookup"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-part-lookup"
        tabindex="0"
      >
        <label class="calc-label" for="plPart">Part Number:</label>
        <input type="text" id="plPart" autocomplete="off" />

        <label class="calc-label" for="plDesc">Description:</label>
        <input type="text" id="plDesc" autocomplete="off" />

        <div class="button-row">
          <button id="lookupPart">Search</button>
          <button id="clearPartLookup">Clear</button>
        </div>
        <div id="partLookupResults"></div>
      </section>
      <!-- Part Lookup Fuzzy -->
      <section
        id="panel-part-lookup-fuzzy"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-part-lookup-fuzzy"
        tabindex="0"
      >
        <label class="calc-label" for="plFuzzyQuery">Search:</label>
        <input type="text" id="plFuzzyQuery" autocomplete="off" />

        <div class="button-row">
          <button id="lookupPartFuzzy">Search</button>
          <button id="clearPartLookupFuzzy">Clear</button>
        </div>
        <div id="partLookupFuzzyResults"></div>
      </section>
      <!-- Reference -->
      <section
        id="panel-reference"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-reference"
        tabindex="0"
      >
        <h4>Hose Clamps</h4>
        <table class="reference-table">
          <thead>
            <tr>
              <th>Old Number</th>
              <th>Hose Size</th>
              <th>Tube Size</th>
              <th>Weld Plate</th>
              <th>Clamp</th>
              <th>SS Clamp</th>
              <th>Double Stack</th>
              <th>SS DBL Stack</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td></td>
              <td>3/8"</td>
              <td>983692</td>
              <td>985550</td>
              <td>984393</td>
              <td></td>
              <td>984285</td>
            </tr>
            <tr>
              <td>981657</td>
              <td>1/4"</td>
              <td>1/2"</td>
              <td>983692</td>
              <td>HA0814</td>
              <td></td>
              <td>983598</td>
              <td>984286</td>
            </tr>
            <tr>
              <td>982002</td>
              <td>3/8"</td>
              <td>5/8"</td>
              <td>983692</td>
              <td>HA0815</td>
              <td></td>
              <td>983603</td>
              <td>984287</td>
            </tr>
            <tr>
              <td></td>
              <td>3/8", 1/2"</td>
              <td></td>
              <td>983693</td>
              <td>984398</td>
              <td></td>
              <td>984545</td>
              <td></td>
            </tr>
            <tr>
              <td>981264</td>
              <td>1/2"</td>
              <td></td>
              <td>983693</td>
              <td>HA0816</td>
              <td></td>
              <td>983726</td>
              <td></td>
            </tr>
            <tr>
              <td></td>
              <td>5/8"</td>
              <td></td>
              <td>983693</td>
              <td>HA1129</td>
              <td></td>
              <td>984133</td>
              <td></td>
            </tr>
            <tr>
              <td>981645</td>
              <td>3/4"</td>
              <td></td>
              <td>983693</td>
              <td>HA0817</td>
              <td></td>
              <td>983604</td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
